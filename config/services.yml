imports:
    - { resource: profiler.yml }

services:
    nicofuma.webprofiler.event.autoloader_listener:
        class: nicofuma\webprofiler\event\autoloader_listener
        tags:
            - { name: event.listener }

    nicofuma.webprofiler.controller.profiler:
        class: nicofuma\webprofiler\controller\profiler
        arguments:
            - @template
            - @controller.helper
            - @?profiler

    nicofuma.webprofiler.controller.router:
        class: nicofuma\webprofiler\controller\router
        arguments:
            - @template
            - @controller.helper
            - @controller.provider
            - @url_matcher
            - @?profiler

    nicofuma.webprofiler.event.debug_toolbar_listener:
        class: nicofuma\webprofiler\event\debug_toolbar_listener
        arguments:
            - @template
            - @controller.helper
        tags:
            - { name: kernel.event_subscriber }
